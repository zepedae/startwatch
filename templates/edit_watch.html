{% extends "index.html" %}

{% block main %}
    <div class = "container">
        <div id="blackout"></div>
        <div class="header">{{ project_name }}</div>
        <button class="btn btn-primary" name="change-name" id="change-name">Change watch name</button>
        <form action="/edit_watch" method="post" id="name-form" style="display: none">
            <input class="form-control mx-auto w-auto" name="new-name" id="new-name" placeholder="Enter new name">
            <button class="btn btn-primary" type="submit" name="change-name-submit" id="change-name-submit">Change name</button>
        </form>
        <button class="btn btn-primary" name="delete-watch" id="delete-watch">Delete watch</button>
        <div class="popup">
            <form action="/edit_watch" method="post" class="popuptext" id="myPopup">
                <label for="delete-submit">Are you sure you want to delete this watch including its productivity data?</label>
                <button class="btn btn-primary" style="background-color: chocolate" id="delete-submit" name="delete-submit">Delete watch</button>
            </form>
        </div>

    </div>
{% endblock %}

{% block javascript %}
<script>
    function myFunction() {
        var popup = document.getElementById("myPopup");
        popup.classList.toggle("show");
}

    document.querySelector("#change-name").addEventListener("click", event => {
        document.querySelector("#change-name").style.display = "none";
        document.querySelector("#delete-watch").style.display = "none";
        document.querySelector("#name-form").style.display = "block";
    });

    document.querySelector("#delete-watch").addEventListener("click", event => {
        document.querySelector("#delete-watch").style.display = "none";
        document.querySelector("#change-name").style.display = "none";

        // document.querySelector("#blackout").style.display = "block";
        // const deleteForm = document.querySelector("#delete-form");
        // deleteForm.style = "display: fixed";

        myFunction();
        

    });
</script>
{% endblock %}